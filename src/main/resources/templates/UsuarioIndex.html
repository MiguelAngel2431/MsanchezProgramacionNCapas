<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
    <head>
        <title>Usuarios</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">


        <style>
            .btn-util {
                width: 40px;
                height: 40px;
                border-radius: 50%
            }

            .title {
                text-transform: uppercase;
                font-family: "Bebas Neue", sans-serif;
                font-size: 50px;
                font-style: normal;
            }

            .subtitle {
                text-transform: uppercase;
                font-family: "Bebas Neue", sans-serif;
                font-size: 30px;
                font-style: normal;
            }

            .form-busqueda {
                border: 1px solid #C7C7C7;
                padding: 10px;
                border-radius: 10px;
                padding: 20px;
                visibility: visible;
            }

            .lbl-busqueda {
                width: 90px;
                transform: translate(30%, 50%);
                background-color: white;
                text-transform: uppercase;
                font-family: "Bebas Neue", sans-serif;
                font-size: 20px;
                font-style: normal;
                text-align: center;
                visibility: visible;

            }

            input {
                font-family: "Playwrite AU NSW", cursive;
                font-optical-sizing: auto;
                font-style: normal;
            }

            input:hover {
                box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.94);
            }

            .btn-busqueda-div {
                margin-top: -20px;
            }

            .btn-search {
                border-radius: 50%;
            }

            .btn-personality-search {
                visibility: hidden;
                position: absolute;
            }

            .form-busqueda-modal {
                font-family: "Barlow Condensed", sans-serif;
                font-weight: 400;
                font-style: normal;
                font-size: 20px;
            }

            .modal-title {
                text-transform: uppercase;
                font-family: "Bebas Neue", sans-serif;
                font-size: 20px;
                font-style: normal;
            }

            .btn-group-responsive {
                position: absolute;
            }

            .btn-add-user {
                position: absolute;
                width: 180px;
                height: 40px;
                border-radius: 20px;
                background-color: black;

                text-transform: uppercase;
                font-family: "Bebas Neue", sans-serif;
                font-size: 20px;
                font-style: normal;
                visibility: visible;
            }

            .btn-add-user:hover {
                background-color: white;
                border: 3px solid black;
                color: black;
            }

            .btn-add-user-responsive {
                visibility: hidden;
                position: absolute;
            }

            .btn-add-user-responsive:hover {
                background-color: black;
                color: white;
                border: solid 1px white;
            }

            .table {
                font-family: "Barlow Condensed", sans-serif;
                font-weight: 400;
                font-style: normal;
                font-size: 20px;

            }

            .td-nombreUser{
                font-weight: bold;
            }

            .image-user {
                width: 100px;
                height: 100px;
                border-radius: 50%;
            }


            @media (max-width: 768px) {
                .btn-personality-search {
                    visibility: visible;
                    background-color: white;
                    color: black;
                    border: solid 2px black;
                    border-radius: 20px;
                    text-transform: uppercase;
                    font-family: "Bebas Neue", sans-serif;
                    font-size: 20px;
                    font-style: normal;

                }

                .btn-personality-search:hover {
                    background-color: black;
                    color: white;
                    border: solid 1px white;
                }

                .btn-add-user-responsive {
                    visibility: visible;
                    background-color: white;
                    color: black;
                    border: solid 2px black;
                    border-radius: 20px;
                    text-transform: uppercase;
                    font-family: "Bebas Neue", sans-serif;
                    font-size: 20px;
                    font-style: normal;
                    visibility: visible;
                }

                .btn-add-user {
                    visibility: hidden;
                }

                .form-busqueda {
                    visibility: hidden;
                    position: absolute;
                }

                .lbl-busqueda {
                    visibility: hidden;
                }
            }
        </style>

    </head>
    <body layout:fragment="body">
        <div class="container">



            <!-- The Modal -->
            <div class="modal fade" id="myModal">
                <div class="modal-dialog">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h4 class="modal-title">Búsqueda personalizada</h4>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>

                        <!-- Modal body -->
                        <div class="modal-body">
                            <form class="form-busqueda-modal" method="post" th:action="@{/usuario}" th:object="${usuarioBusqueda}">
                                <div class="row">
                                    <div class="form-group col-12">
                                        <label for="usr">Nombre:</label>
                                        <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Ingresa nombre" th:field="*{Nombre}">

                                    </div>

                                    <div class="form-group col-12">
                                        <label for="usr">Apellido paterno:</label>
                                        <input type="text" class="form-control" id="apellidoPaterno" name="apellidoPaterno" placeholder="Ingresa apellido paterno" th:field="*{ApellidoPaterno}">

                                    </div>

                                    <div class="form-group col-12">
                                        <label for="usr">Apellido materno: </label>
                                        <input type="text" class="form-control" id="apellidoMaterno" name="apellidoMaterno" placeholder="Ingresa apellido materno" th:field="*{ApellidoMaterno}">

                                    </div>


                                    <div class="form-group col-12">
                                        <label for="usr">Rol:</label>                   
                                        <select class="form-control" id="rol" name="rol" th:field="*{IdRol}">
                                            <option value="0">Selecciona Rol</option>
                                            <option th:each="rol : ${roles}" th:text="${rol.Nombre}" th:value="${rol.IdRol}">One</option>
                                        </select>
                                    </div>
                                    <div class="form-group " >

                                        <button type="submit" class="btn btn-success btn-lg active btn-search" style="margin-top: 18px"><i class="bi bi-search"></i></button>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>




            <br>
            <a class="btn btn-success btn-add-user" th:href="@{/usuario/action/{idUsuario}(idUsuario = 0)}">Registrar usuario <i class="bi bi-person-add"></i></a>


            <br>
            <center><h1 class="title">Usuarios</h1></center>
            <br>

            <!--h2 class="mb-4 subtitle">Buscar en Tabla</h2>-->
            <!-- Campo de búsqueda -->
            <!--<input
                type="text"
                id="searchInput"
                class="form-control mb-3"
                placeholder="¿Buscas a alguien?..."
                />-->

            <!-- Boton de filtro-->
            <div class="btn-group btn-group-responsive">
                <button type="button" class="btn btn-primary btn-personality-search" data-bs-toggle="modal" data-bs-target="#myModal">
                    <i class="bi bi-filter-right"></i>
                </button>

                <a class="btn btn-success btn-add-user-responsive" th:href="@{/usuario/action/{idUsuario}(idUsuario = 0)}">
                    <i class="bi bi-person-add"></i>
                </a>
            </div>

            <div class="lbl-busqueda">
                Busqueda
            </div>

            <!-- Banner busqueda personalizada -->
            <form class="form-busqueda" method="post" th:action="@{/usuario}" th:object="${usuarioBusqueda}">
                <div class="row">
                    <div class="form-group col-lg-3 col-md-2 col-3">

                        <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Ingresa nombre" th:field="*{Nombre}">
                        <center><div id="emailHelp" class="form-text">Nombre</div></center>
                    </div>

                    <div class="form-group col-lg-3 col-md-3 col-3">
                        <!--<label for="usr">Apellido paterno:</label>-->
                        <input type="text" class="form-control" id="apellidoPaterno" name="apellidoPaterno" placeholder="Ingresa apellido paterno" th:field="*{ApellidoPaterno}">
                        <center><div id="emailHelp" class="form-text">Apellido paterno</div></center>
                    </div>

                    <div class="form-group col-lg-3 col-md-3 col-3">
                        <!--<label for="usr">Apellido materno: </label>-->
                        <input type="text" class="form-control" id="apellidoMaterno" name="apellidoMaterno" placeholder="Ingresa apellido materno" th:field="*{ApellidoMaterno}">
                        <center><div id="emailHelp" class="form-text">Apellido materno</div></center>
                    </div>


                    <div class="form-group col-lg-2 col-md-2 col-2">
                        <label for="usr">Rol:</label>                   
                        <select class="form-control" id="rol" name="rol" th:field="*{IdRol}">
                            <option value="0">Selecciona Rol</option>
                            <option th:each="rol : ${roles}" th:text="${rol.Nombre}" th:value="${rol.IdRol}">One</option>
                        </select>
                    </div>
                    <div class="form-group col-1 btn-busqueda-div" >

                        <button type="submit" class="btn btn-success btn-lg active btn-search" style="margin-top: 18px"><i class="bi bi-search"></i></button>
                    </div>
                </div>
            </form>

            <br>

            <div class="table-responsive">
                <table class="table table-hover table-bordered">
                    <thead class="table-dark">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Status</th>
                            <th class="col-1">Imagen</th>
                            <th scope="col-2">Nombre</th>
                            <th scope="col">Direccion</th>

                            <th scope="col">Contacto</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <tr th:each="usuario : ${usuarios}">
                            <!-- Util -->
                            <td>
                                <a th:href="@{/usuario/action/{idUsuario}(idUsuario = ${usuario.IdUsuario})}" class="btn btn-warning btn-util"><i class="bi bi-pencil-square"></i></a>
                                <a th:href="@{/usuario/EliminarUsuario/{idUsuario}(idUsuario = ${usuario.IdUsuario})}" class="btn btn-danger btn-util"><i class="bi bi-trash3-fill"></i></a>
                            </td>
                            
                            <!-- Baja logica -->
                            <td>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" role="switch" >
                                    
                                </div>
                            </td>

                            <!-- Imagen -->
                            <td>                                                                                                                            <!-- https://img.freepik.com/vector-premium/icono-circulo-usuario-anonimo-ilustracion-vector-estilo-plano-sombra_520826-1931.jpg -->
                                <img class="image-user" th:src="|${(usuario.Imagen != null) ? 'data:image/jpeg;base64,'+usuario.Imagen : 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhMQEhASFRUSEhIVGBcVEhUSFRYVFRYYFxUWFxcZHyggGB4lGxcVITEtJSkrLy4uFx8zODMtNygtLisBCgoKDg0OGxAQGy8mICUrLTEyLjAtLS0rLS0rMC0tLS0tLy0tKy0tLS4tLS0vLy8tLS0tLS0tLS0tLS0tLS0tLf/AABEIAOEA4QMBEQACEQEDEQH/xAAcAAEAAgMBAQEAAAAAAAAAAAAABgcBBAUDAgj/xAA/EAACAQIBCAYGCQMFAQAAAAAAAQIDEQQFBgcSITFBURMiYXGBkTJCUnKhsRQjM0NikqLBwoKy0URTVIPSJP/EABsBAQACAwEBAAAAAAAAAAAAAAAFBgEDBAIH/8QAOhEBAAECAwMKBQMDBAMBAAAAAAECAwQFERIhMRMyQVFhgZGhsdEiccHh8BRCUhUz8SQ0Q3JTYpIj/9oADAMBAAIRAxEAPwC8QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANPKGVKNBXrVoQ5a0km+5b34G21YuXZ0t0zLXcu0W41rnRGcdpGwsdlOFWr2qOpHzlt+BJ2skxFXO0jz9HDczSzTzdZcTEaTKr+zw1OPvTlP5KJ3UZDRHOrnujT3ctWbVftpjxaUtImMfCgu6nL95G6Mjw3XV4x7NX9Uv9nh9yOkTGcqD76cv2kZnI8N11eMex/VL/Z4fdt4fSXXXp4elL3ZTp/PWNNeQ2/21zHn7NlObV9NMOzgtJOHlZVaVWn2q1SK8VZ/A4ruR36eZMT5fni6aM0tTzomPNJsmZcw+I+xrwm/ZTtPxi9q8iMvYa9Z/uUzHp4u63ft3OZVEugaG4AAAAAAAAAAAAAAAAAAAABysuZwUMLG9WfWa2Qj1py7lwXa7I6cNg7uInS3Hf0NF/E27Ma1z3dKust5/YireNG1CH4dtRrtlw8F4ljw2TWbe+58U+X5+aIW/mV2vdRujzROpNyblJuUnvcm233t7WS9NMUxpTGkI+ZmZ1lg9MAAAAAAFz4rc+KMTETGkspLkXPfFULKUumgvVqO8rdlTf53IvE5RYu76Y2Z7OHh7aO6zmF23unfHb7rGzfzqw+K6sJatS22nOyl26vCS7vGxXMVgL2G50ax1xwTOHxdu9wnf1O4cTqAAAAAAAAAAAAAAAAACB5259qm5UMK1Ka2Sq7HGL5Q4SfbuXbwnMBlE3NLl7dHV0z7R5orF5hFGtFvj19St69aU5Oc5OUpO7lJ3bfa2WaiiminZpjSEJVVNU6zO98Ht5AAAAAAAAAADMW0002mndNOzTW5p8DExExpLMTpvhPc1M/XG1HFu63KtxXLpOa7fPmV7H5Pxrsf/Pt7JfCZjMfDd8fdY8JppNNNNXTW1NPc0yuTGm6U1E6voAAAAAAAAAAAAAACs8+c8XNywuGlaCuqlRP0+cIv2eb492+yZXleml69G/oj6yhMdjpmZt253dMoIWFEAAAAA+6FGU5KEISnJ7oxi5Sfgtp4rrpojWqdI7Xqmmap0pjV1o5qY17fotTx1V8GzknM8JH748/Z0Rgr/wDCWXmnjf8Ai1POP+TH9Twn848/Y/RX/wCM+Tl4vCVKUtSrTnCXKcXF96vvOu3douRrRMT8miuiqidKo0eJseAAAAASzMvO6WGkqNZt0G+90m+K5x5rxXJw2ZZZF6JuW+d6/dI4LGzanYr5vp9ls05qSUotNNJpp3TT3NPiVSYmJ0lYInXfD6MMgAAAAAAAAAAAgekXOfo08HRl15L62S3xi1sguTa38l37JzKMByk8tcjdHDtn2j1RWYYvYjk6J39PYrQtKCAAAAB1c28g1MXV6OGyMbOc2rqEf3b22RxY3G0YWjanj0R1unDYaq/VpHDplcWRci0cLDo6MLc5PbOT5ylx+S4FOxGJuYirauT7R8ljs2KLNOzRDoGhuANXKOTqVeDp1qcZxfB8O1Pen2o2Wr1dqraonSXi5bpuU7NUawqLO7NmeDmmm5UZvqTe9P2J9vz80rfl+YU4mnSd1UcY+sK7i8JNidY5so+STiAAAABOtHWc2pJYOtLqTdqUn6sn6nc+Hbs47K/m+A2o5e3G/p9/dLZdi9meSr4dHss0rScAAAAAAAAAADlZzZYjhcPOs7OXowj7U36K7t7fYmdODw04i7FuO/5NGJvxZtzVP5KkK9aU5SnOTlKbcpN723tbLzRRTRTFNPCFWqqmqZqnjL4PbyAAAAC5swsDGlgqLS21Y9LJ8W57V5R1V4FJzO7NzE1a9G6O5ZsDbiixTp07/FITgdgAAAc7OHJ8a+GrUZL0qcrPlJK8JLtUkmb8Ndm1dprjolru24uUTTKg8NX1l22L8qtdGy9g1gAAAMTGrK5Mx8vfSsOtd/W0rQn2+zPxXxTKXmWE/TXtI5s749u5ZcFiOWt7+McUjI92AAAAAAAAACpdJOV+lxPQxfUw61ex1H6b8NkfB8y2ZNhuTs8pPGr0/Por2ZXtu7sRwj1RImUcAAAADEtwH6AydRjClThD0Y04RjbkopL4Hz25VNVc1TxmZW+3EU0xEdTYPD2AAAAD825SpqnXrQg+rCtVjFr2Yzaj8Ej6BYqmq1TVPGYj0V25TG1MdsvWhW1u82uOujZewawAAA7mZmV/o2KhJu0Kn1c+WrJ7JeDs+6/Mj8zw3L2JiOMb4/O114K9yV2J6J3SuspSzgAAAAAAAGnljHKhQq1393CUrc2lsXi7LxNti1N25Tbjplru3It0TXPRChqk3JuUneUm5N823dvzL9TTFMRTHCFSmZmdZfJ6YAAAAAAurMavr4DDvlBx/JKUP4lHzKjZxVcdvrvWjBVbVimez0d04nUAAAGllvEdHhq9W9ujoVZ/lg3+xtsUbd2mnrmHiudKZnsfm+J9AV5mLttQYmNW/Qra3eHNXRsvYNYAAwwLtzNyl0+DpVG7yUdSXPWh1W33pJ+JRsfY5HEVURw4x8pWnB3eUs01Tx9nbON0gAAAAAAIbpSxmrhY0l99Vin7sOs/ioExklraxG11R67kbmleza2euVVFtV8AAAAAD0wurrw1/R14a3u6y1vhc13ddirZ46S90abUa8NYX/QoxgtWEYxityilFLwR8/qqmqdZlboiIjSHoYZAAAD5qU1JOMkmmrNNXTXJriImY3wPz5nfThHG4mNNJQjWkkkrJNekkuHW1i84Capw1E1cdPzyQOIiIu1adbjnY0sxdtqDExq36FbW7w5q6Nl7BrAAFiaJsZsxFB8HCovHqy+UCt59a30XPnCaymvdVR3rDK8mAAAAAAAFZaWa961Cn7NOcvzyS/gWXIaPgrq7Yjw/yg82q+KmnslBSwIkAAAAADDQF65uZRjXw9GopJydOGsk7tSStJPxTKFirM2b1VEx0+XQtmHuRct01R1Omc7cAAAHhjcZClCVSpNRjFNttpbErs9UUVV1RTTG+WKqopjWX5uxNd1JzqS31Jym++Tcn8WfQLdEUURTHRER4K7VOszLyPbABmLttQYmNW/Qra3eHNXRsvYNYBKtGlfVx0Y/7lKpDytP+BEZ1RtYbXqmPb6pDLKtL+nXErdKisQAAAAAACpdKEr41dlCmv1Tf7lsyOP9NP8A2n0hXs0/v90fVEiZRwAAAAAACW6McWoYxwf31KUV2yi1JfBTIbO7W1h4qjonyn8hJZZc2b009cLaKmsAAAAVXpnxqc8Nh0/RjOrJe81GHymWTIbe6u58o+s/RGZhVwpVsWFHAAABmLttQYmNW/Qra3eHNXRsvYNbuZjStj8M/wAc1505r9yPzSNcJX3esOvA/wC4p/OiV1lKWcAAAAAABUuk+P8A9vfQpv8AVNfsW3I5/wBNP/afSFezT+/3R9USJhHAAAAAAAPuhWlCUZwk4yg1KLW9NbmeK6Ka6ZpqjWJeqappmKo4wuPM3OP6ZSblHVqU9VTSXVbd7Sj2Oz2cLdzdMzDBThbmkTrE8FkweK5ejWeMcUhOB2AHHzry9HBYeVeUXJ3UIRXrTabSb9VbG2+znZHVg8LVibsW43ezVeuxao2pULlXKNTEVZ160tac3d8EluUYrgktiLrYsUWaIoo4Qg665rq2qmobngAAAAGYu21BiY1b9Ctrd4c1dGykWZEb4/De/J+UJMj80nTCV93rDfgf9xT+dErrKUs4AAAAAACsNLFC1ehU9ujKP5JX/mWfIa9bddPVMef+EFm1Px01diDk8igAAAAAAAC0dF2BnTo1pzhKHSVI21ouLcYx3q/C8n5FUzu9Rcu0xTOukdHzT+V26qKJmqNNZTYhUmARPSdgZ1sDNU4SnKFSnNRjFyk0pWdktrspN+BJZTdpt4mJqnSNJc2Lomq1MQo+SabTTTTs09jT5NcC5RMTGsISd3FgyAAAAAAZi7bUGJjVN9GH1mOg+NOnVm/LUv8ArInOatnCzHXMR9fo3YC1piIno0lcpUE+AAAAAAAhOlXCa2Hp1Uvsqtn2RmrP9SgTWR3dm/NHXHp+Si81o1tRV1T6quLWgQAAAAZjFtpJNtuySV229yS4mJmIjWWYiZnSEyyDo+rVbTxEuhg/VVnVa+UPG77CExWd26PhsxtT19H3SdjLK699zdHV0p/kjNzDYa3RUYqXty60/wAz2rwsiAv4y9f59Xd0eCWtYW1a5se7qnK6AAAA5uV8g4bEq1ehCeyyla013TXWXmb7GJu2Z1t1THp4NddqivnQrrOLRfON54Oprrf0VRpT7oz2J+Nu9k9hc8ifhvxp2x9Y9vBwXcDMb7c9yvsTh505OnUhKE4uzjJOMl3pk7RXTXTtUzrCPqpmmdJeR7YAAAABZehjBdbE4hrcoUovtd5zXwpldz67zLfzn6R9Ull9POq7lpFcSQAAAAAADn5wZP8ApGGrUOM4PV99bYP8yRvw17kb1Nzqn/LTft8pbqo64URbmrPlyfIvsTExrCqBlgAAALW0e5uRo0o4mpG9WrG6uvQg9yXJtbX324FRzXHTeuTbpn4Y85/OCw5fhYt0bdUb58kxIhIgAAAAAAAEaz4zXhjKLtFKvTTdOW5trbqSfsv4Pad+X42rDXP/AFnjH1+bnxFiLtPaohrmmux7Gi6xv4INgyAAABe+jrJnQYCkmrSq3rS4bam2Kfaoai8Ck5nf5bE1THCN0d33TmFt7FqISY4HQAAAAAAAAU7pAyT0GLlJLqV71I8tb7xee3+pFwyjE8rYimeNO7u6PzsVzMLPJ3dY4Tv90aJVwAADcyNg+mxFGjwqVIRfu3636bnPirvJWaq+qJ+zbYo27lNPXK+kihLayAAAAAAAAAAUJpAwCo4+vFK0ZyVVf9i1pfq1i65Xd5TC0zPRu8Psg8VRs3Z8UdJBzgADs5o5GeLxdKhbqX16nZThZy89ke+SOPH4j9PYqr6eEfOfzVusW+UuRD9BpFGTzIAAAAAAAADh545E+lYeUF9pDr03+JL0e5q68nwO3AYr9NeirondPycuMw/LW5jp6FKyi02mmmm001Zpremi7xMTGsKxMabpYMsAHczHmlj8O5btaa8ZU5KPxaI/NImcJXp2esOvAzEYinX83LrKUs4AAAAAAAAAAUvpcqRePSW+OHpKXva1SX9rj5ltyOJjDTr/ACn0hD46f/17kKJhxgAC6tGObrw2H6apG1XEWk098KfqR7Htcn3pcCn5tjOXu7NPNp856ZTODs7FGs8ZTMinWAAAAAAAAAAFbaR82tVvG0o7JfapcH/udz3Pz5ljyfH/APBXPy9vZC5jhNJ5Wjv90BLEhwDMJNNNNpppprY01tTTMTETGksxMxOsLHyHpHpasYYtShJWTqRi5QfbKK60X3Jru3FYxWSXKapmzvjq6U7hsxpqjS5ulMsn5WoV1ejXp1PcmpNd6W1eJD3LNy1OldMx84SVNdNXNlump6AAAAAA1sbj6VFa1WrTprnOcYL4nui3XcnSiJn5PNVVNO+ZQ3L2k3DU044ZOvU2pOzhST5tuzl4LbzRK4bJb1ydbnwx5/nzclzG0U83fPkqTHYudapOtUlrTqScpPm38lwXJItNq3TaoiiiN0Iqqqap2peBseQCbaNs1PpNX6TVj9RRkrJ7qtRbo9sVvfPYudobNsfyNHJUT8U+Ue8u3CYfbnaq4QucqaXAAAAAAAAAAAB8zgmmmk00001dNPemInTfBMaqmz2zSeGk61FN0JPvdJvg/wAPJ+D4XtmWZlF6OTuT8Xr91exuCm1O3RzfT7ImTKOAMNBlo16Gq9ZeD4rxMTGsaS6bdzX5t7CZyYyn6GLrpcnUlNeUro5q8Fh6+dRHhp6Omm/cp4VS6dHSDlGP+pUvepUv2ijmqyjCT+3TvltjGXo6WzHSXj/aovvpf4ZrnJMN2+P2ev113sZekzH86K7qX+ZD+iYbt8fsfrrvY162kPKMt2IjH3aVP+UWbKcnwkft175eZxl6enyc3FZ042p6eMr/ANM3TXlCxvowGGo4UR6+rXViLtXGqXJqScnrSbbe9t3b8WddNMUxpG5qmZni+TLAAAkuZeadTHVLu8aEH158/wAEOcvl5Jx2YZhThqdI31Twj6z+b3Th8PN2exeWDwsKUI0qcVGEEoxitySKbXXVXVNVU6zKappimNIex5ZAAAAAAAAAAAAA+akFJOMkmmmmmrpp701xMxMxOsMTGu6VaZ25iShrVsInKG90ltlHnqe0uzfyvwsmAzeKtLd/j1+/uhMXl00612uHV7IKT8Tqigyww0GWjiKGrtW75B00V7W6XgGwAAAAAAAYE2zNzBqYnVrYhSpUN6W6pVX4V6se17+G+6hsfm1FnWi1vq8o95duHwk1/FVuhcODwkKUI0qcFCEFaMYqySKrXXVXVNVU6zKWppimNIex5ZAAAAAAAAAAAAAAAAEczjzPoYq87dHVf3kEtvvx3S+D7SQwmZXsPujfT1T9Opx4jBW72/hPWrfLeaeKw13KnrwX3lO8o2/Et8fFW7Sy4bM7F/dE6T1T+b0JewV21xjWOuHCTJByDQZaOIoau1bvkHTbr2ngGwAAAAHZyFmvisW10NF6j+8n1Ka/qfpf0pnHicfYw/Pq39Ub5/Pm3W7Fy5whaObGjzD4ZqpV+vqranJWpwf4YcX2u/ZYreMza7f+Gn4afOfnKTs4OijfO+UzIp1gAAAAAAAAAAAAAAAAAAAAOJlXNTCV7udFKT9eH1cr83bZLxudljH4izuoq3dU74c13B2bm+qnf4IvjtGa30cS+6pC/wCqNvkStrPp/wCSjwn3cFeUx+yrxcTE6PsbG9o0qnu1Lf3pHbRnWGq46x3e2rlnLb8cNJ73FxGYuPi9mEm12Tpv5SN8ZphJ/f5T7NlOFv6b6fR5xzIyg/8ARz8Z0185GZzTCR+/yn2ev0t7+Po3cNo3yhLfTp0/fqx/hrGmvOcLTwmZ+Ue+j3GCuz1O7k/RPLY6+KS5xpQb8py/8nFdz7/x0eM/SPdvpy/+VXglmSMxMDQtJUekkvWrPpHs46r6qfciLv5nib26atI6o3fd1W8Lao4QkqRwOhkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//2Q=='}|">
                            </td>

                            <!-- Nombre -->
                            <td class="td-nombreUser" th:text="|${usuario.Nombre} ${usuario.ApellidoPaterno} ${usuario.ApellidoMaterno}|"></td>

                            <!-- Direccion(es) -->
                            <td>
                                <ul>
                                    <li th:each="direccion : ${usuario.Direcciones}">
                                        <span th:if="${direccion != null}">
                                            <p th:text="|${direccion.Calle}, Numero Interior: ${direccion.NumeroInterior}, Numero Exterior: ${direccion.NumeroExterior}, Colonia ${direccion.Colonia.Nombre}, ${direccion.Colonia.Municipio.Nombre}, ${direccion.Colonia.Municipio.Estado.Nombre}, ${direccion.Colonia.Municipio.Estado.Pais.Nombre}|"><p>
                                        </span>
                                        <!--<span th:unless="${direccion == null}">
                                            <p>No data</p>
                                        </span>-->
                                    </li>
                                </ul>
                            </td>

                            <!-- Contacto -->
                            <td>
                                <ul>
                                    <ol><p th:text="|Correo: ${usuario.Email}|"></p></ol>
                                    <ol><p th:text="|Telefono: ${usuario.Telefono}|"></p></ol>
                                    <ol><p th:text="|Celular: ${usuario.Celular}|"></p></ol>
                                    <ol><p th:text="|Rol: ${usuario.rol.Nombre}|"></p></ol>

                                </ul>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        <script>
            // Referencia al campo de búsqueda y al cuerpo de la tabla
            const searchInput = document.getElementById('searchInput');
            const tableBody = document.getElementById('tableBody');

            // Evento para filtrar la tabla
            searchInput.addEventListener('keyup', function () {
            const filter = searchInput.value.toLowerCase(); // Texto ingresado en minúsculas
            const rows = tableBody.getElementsByTagName('tr'); // Todas las filas de la tabla

            for (let row of rows) {
            const cells = row.getElementsByTagName('td'); // Todas las celdas de la fila
            let match = false;

            // Verificar si alguna celda contiene el texto buscado
            for (let cell of cells) {
            if (cell.textContent.toLowerCase().includes(filter)) {
            match = true;
            break;
            }
            }

            // Mostrar u ocultar la fila según si coincide
            row.style.display = match ? '' : 'none';
            }
            });
        </script>
        
        <!-- Funcion Ajax para baja logica -->
        <script>
            function cambiarEstado(idUsuario, estado) {
                fetch("/usuario/cambiarEstado?id=" + idUsuario + "&activo=" + estado, {
                    method: "POST"
                })
                .then(response => response.text())
                .then(data = {
                    console.log("Respuesta: ", data);
                })
                .catch(error("Error: ", error));
            }
        </script>



    </body>
</html>
